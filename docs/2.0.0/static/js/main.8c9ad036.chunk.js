(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){},134:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(13),l=a(14),s=a(16),i=a(15),r=a(17),o=(a(74),a(0)),u=a(69),d=a(18),c=a(72),h=a(1),m=function(e){return o.createElement("div",{className:"selected"},o.createElement("p",null,o.createElement("i",null,"The ",e.selecting," ",o.createElement("b",null,e.selected)," has been selected")),o.createElement(h.Button,{onClick:e.onClear,style:{visibility:e.nextConfig?"hidden":"visible",marginLeft:"12px"}},"Clear"))};m.displayName="Selected";var f=function(e){var t={className:"dropdown-select",disabled:!e.enabled,kind:"line",onChange:e.onChange,onSelect:e.onChange,value:e.selected},a={disabled:!e.enabled||""===e.selected,kind:"filledGreen",onClick:e.onClick,style:{marginLeft:"12px"}};return o.createElement("div",{className:"selector"},o.createElement(h.DropdownSelect,t,e.list.map(function(e){return o.createElement("option",{key:e},e)})),o.createElement(h.Button,a,"Set"))};f.displayName="Selector";var p=function(e){return o.createElement(o.Fragment,null,o.createElement("span",null,"Select a ",e.selecting),function(e){var t=e.config,a=e.enabled,n=e.list,l=e.nextConfig,s=e.onChange,i=e.onClear,r=e.onClick,u=e.selected,d=e.selecting;return t?o.createElement(m,{nextConfig:l,onClear:i,selected:u,selecting:d}):o.createElement(f,{enabled:a,list:n,onChange:s,onClick:r,selected:u})}(e))};p.displayName="Setting";var g,y="Loading...",b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={applyButton:!1,autoUpdate:!1,bg:"#ffffff",configured:!1,dataType:"string",delimiter:"|",displayField:"",field:"",field_config:!1,field_enabled:!1,field_list:[],ignoreSelection:!0,includeAllValue:!1,multiselect:!1,param_config:!1,param_enabled:!1,param_list:[],parameter:"",selectedTabIndex:0,showDisplayValues:!1,sort:"asc",txt:"#333333",updateOnChange:!1,useFormattedValues:!1,worksheet:"",ws_config:!1,ws_enabled:!1,ws_list:[]},a.bgChange=function(e){a.setState({bg:e.target.value})},a.txtChange=function(e){a.setState({txt:e.target.value})},a.paramChange=function(e){a.setState({parameter:e.target.value})},a.fieldChange=function(e){a.setState({field:e.target.value})},a.wsChange=function(e){a.setState({worksheet:e.target.value})},a.ignoreSelectionChange=function(e){a.setState({ignoreSelection:!e.target.checked})},a.aliasChange=function(e){a.setState({useFormattedValues:e.target.checked})},a.allChange=function(e){a.setState({includeAllValue:e.target.checked})},a.sortChange=function(e){a.setState({sort:e.target.value})},a.delimiterChange=function(e){a.setState({delimiter:e.target.value})},a.multiselectChange=function(e){a.setState({multiselect:e.target.checked})},a.applyChange=function(e){a.setState({applyButton:e.target.checked})},a.autoUpdateChange=function(e){a.setState({autoUpdate:e.target.checked})},a.displayChange=function(e){a.setState({showDisplayValues:e.target.checked})},a.displayFieldChange=function(e){a.setState({displayField:e.target.value})},a.updateOnChangeChange=function(e){a.setState({updateOnChange:e.target.checked})},a.tabChange=function(e){a.setState({selectedTabIndex:e})},a.setParam=function(){var e=window.tableau.extensions.dashboardContent.dashboard;""!==a.state.parameter&&e.findParameterAsync(a.state.parameter).then(function(e){a.setState({dataType:e.dataType,includeAllValue:"string"===e.dataType&&a.state.includeAllValue,multiselect:"string"===e.dataType&&a.state.multiselect,param_config:!0}),a.populateWS()})},a.clearParam=function(){a.setState({param_config:!1,param_enabled:!0,ws_enabled:!1}),a.populateParamList()},a.setWS=function(){""!==a.state.worksheet&&(a.setState({ws_config:!0}),a.populateFieldList())},a.clearWS=function(){a.setState({field_enabled:!1,ws_config:!1,ws_enabled:!0}),a.populateWS()},a.setField=function(){var e=window.tableau.extensions.dashboardContent.dashboard;""!==a.state.field&&a.setState({configured:!0,field_config:!0}),e.worksheets.find(function(e){return e.name===a.state.worksheet}).getSummaryDataAsync().then(function(e){var t=[],n=!0,l=!1,s=void 0;try{for(var i,r=e.columns[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;t.push(o.fieldName)}}catch(u){l=!0,s=u}finally{try{n||null==r.return||r.return()}finally{if(l)throw s}}t.sort(),a.setState({displayField:t[0],field_list:t})})},a.clearField=function(){a.setState({configured:!1,field_config:!1,field_enabled:!0}),a.populateFieldList()},a.submit=function(){window.tableau.extensions.settings.set("selParam",a.state.parameter),window.tableau.extensions.settings.set("selWorksheet",a.state.worksheet),window.tableau.extensions.settings.set("selField",a.state.field),window.tableau.extensions.settings.set("bg",a.state.bg),window.tableau.extensions.settings.set("txt",a.state.txt),window.tableau.extensions.settings.set("sort",a.state.sort),window.tableau.extensions.settings.set("ignoreSelection",a.state.ignoreSelection),window.tableau.extensions.settings.set("useFormattedValues",a.state.useFormattedValues),window.tableau.extensions.settings.set("includeAllValue","string"!==a.state.dataType?"false":a.state.includeAllValue),window.tableau.extensions.settings.set("delimiter",a.state.delimiter),window.tableau.extensions.settings.set("multiselect","string"!==a.state.dataType?"false":a.state.multiselect),window.tableau.extensions.settings.set("autoUpdate",a.state.autoUpdate),window.tableau.extensions.settings.set("dataType",a.state.dataType||"string"),window.tableau.extensions.settings.set("showDisplayValues",a.state.showDisplayValues),window.tableau.extensions.settings.set("displayField",a.state.displayField),window.tableau.extensions.settings.set("updateOnChange",a.state.updateOnChange),window.tableau.extensions.settings.set("applyButton",a.state.applyButton),window.tableau.extensions.settings.set("configured","true"),window.tableau.extensions.settings.saveAsync().then(function(){window.tableau.extensions.ui.closeDialog(a.state.worksheet)})},a.clearSettings=function(){a.setState({configured:!1,displayField:"",field:"",field_config:!1,field_enabled:!1,field_list:[],param_config:!1,param_list:[],parameter:"",showDisplayValues:!1,worksheet:"",ws_config:!1,ws_enabled:!1,ws_list:[]}),a.populateParamList()},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"testParamSettings",value:function(){var e=this,t=window.tableau.extensions.dashboardContent.dashboard,a=window.tableau.extensions.settings.getAll();this.state.configured?t.findParameterAsync(a.selParam).then(function(t){t&&"all"===t.allowableValues.type?(e.setState({dataType:t.dataType,param_config:!0,parameter:t.name}),e.testWSSettings()):(e.populateParamList(),e.setState({configured:!1}))}):this.populateParamList()}},{key:"populateParamList",value:function(){var e=this,t=window.tableau.extensions.dashboardContent.dashboard;this.setState({param_list:[y],parameter:y}),t.getParametersAsync().then(function(t){var a=[],n=!0,l=!1,s=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;"all"===o.allowableValues.type&&a.push(o.name)}}catch(u){l=!0,s=u}finally{try{n||null==r.return||r.return()}finally{if(l)throw s}}a.sort(),a.length>0?e.setState({param_enabled:!0,param_list:a,parameter:a[0]}):e.setState({param_enabled:!1,param_list:["No open input parameters found!"],parameter:"No open input parameters found!"})})}},{key:"testWSSettings",value:function(){var e=window.tableau.extensions.dashboardContent.dashboard,t=window.tableau.extensions.settings.getAll();this.state.configured?e.worksheets.find(function(e){return e.name===t.selWorksheet})?(this.setState({worksheet:t.selWorksheet,ws_config:!0,ws_enabled:!1}),this.testFieldSettings()):(this.populateWS(),this.setState({configured:!1})):this.populateWS()}},{key:"populateWS",value:function(){var e=window.tableau.extensions.dashboardContent.dashboard;this.setState({worksheet:y,ws_list:[y]});var t=[],a=!0,n=!1,l=void 0;try{for(var s,i=e.worksheets[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var r=s.value;t.push(r.name)}}catch(o){n=!0,l=o}finally{try{a||null==i.return||i.return()}finally{if(n)throw l}}t.sort(),t.length>0?this.setState({worksheet:t[0],ws_enabled:!0,ws_list:t}):this.setState({worksheet:"No worksheets found!",ws_enabled:!1,ws_list:["No worksheets found!"]})}},{key:"testFieldSettings",value:function(){var e=this,t=window.tableau.extensions.dashboardContent.dashboard,a=window.tableau.extensions.settings.getAll();this.state.configured?t.worksheets.find(function(t){return t.name===e.state.worksheet}).getSummaryDataAsync().then(function(t){if(t.columns.find(function(e){return e.fieldName===a.selField})){var n=[],l=!0,s=!1,i=void 0;try{for(var r,o=t.columns[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var u=r.value;n.push(u.fieldName)}}catch(d){s=!0,i=d}finally{try{l||null==o.return||o.return()}finally{if(s)throw i}}n.sort(),e.setState({configured:!0,field:a.selField,field_config:!0,field_enabled:!1,field_list:n})}else e.populateFieldList(),e.setState({configured:!1})}):this.populateFieldList()}},{key:"populateFieldList",value:function(){var e,t=this,a=window.tableau.extensions.dashboardContent.dashboard;this.setState({field:y,field_list:[y]}),a.findParameterAsync(this.state.parameter).then(function(n){return e=n.dataType,a.worksheets.find(function(e){return e.name===t.state.worksheet}).getSummaryDataAsync()}).then(function(a){var n=[],l=!0,s=!1,i=void 0;try{for(var r,o=a.columns[Symbol.iterator]();!(l=(r=o.next()).done);l=!0){var u=r.value;u.dataType===e&&n.push(u.fieldName)}}catch(d){s=!0,i=d}finally{try{l||null==o.return||o.return()}finally{if(s)throw i}}n.sort(),n.length>0?t.setState({field:n[0],field_enabled:!0,field_list:n}):t.setState({field:"No fields found that match parameter!",field_enabled:!1,field_list:["No fields found that match parameter!"]})})}},{key:"componentWillMount",value:function(){var e=this;window.tableau.extensions.initializeDialogAsync().then(function(){var t=window.tableau.extensions.settings.getAll();"true"===t.configured?(e.setState({applyButton:"true"===t.applyButton||!1,autoUpdate:"true"===t.autoUpdate||!1,bg:t.bg||"#ffffff",configured:!0,dataType:t.dataType,delimiter:t.delimiter||"|",displayField:t.displayField||"",ignoreSelection:!t.ignoreSelection||"true"===t.ignoreSelection,includeAllValue:"true"===t.includeAllValue||!1,multiselect:"true"===t.multiselect||!1,showDisplayValues:"true"===t.showDisplayValues||!1,sort:t.sort||"asc",txt:t.txt||"#333333",updateOnChange:"true"===t.updateOnChange||!1,useFormattedValues:"true"===t.useFormattedValues||!1}),e.testParamSettings()):e.populateParamList()})}},{key:"render",value:function(){var e=[o.createElement("div",{className:"content"},o.createElement(p,{selecting:"parameter",onClick:this.setParam,onClear:this.clearParam,config:this.state.param_config,nextConfig:this.state.ws_config,selected:this.state.parameter,enabled:this.state.param_enabled&&!this.state.param_config,list:this.state.param_list,onChange:this.paramChange}),o.createElement(p,{selecting:"worksheet",onClick:this.setWS,onClear:this.clearWS,config:this.state.ws_config,nextConfig:this.state.field_config,selected:this.state.worksheet,enabled:this.state.ws_enabled,list:this.state.ws_list,onChange:this.wsChange}),o.createElement(p,{selecting:"field",onClick:this.setField,onClear:this.clearField,config:this.state.field_config,selected:this.state.field,enabled:this.state.field_enabled,list:this.state.field_list,onChange:this.fieldChange})),o.createElement("div",{className:"content"},o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{checked:!this.state.ignoreSelection,onChange:this.ignoreSelectionChange,style:{flexGrow:1}},"Filter parameter list based on worksheet selections")),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{checked:this.state.autoUpdate,onChange:this.autoUpdateChange,style:{flexGrow:1}},"Automatically reset values on dashboard load.")),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{checked:this.state.updateOnChange,onChange:this.updateOnChangeChange,style:{flexGrow:1}},"Update list of values on parameter change.")),o.createElement("div",{className:"option"},"Sorting:",o.createElement(h.Radio,{checked:"asc"===this.state.sort,onChange:this.sortChange,name:"sorting",value:"asc",style:{margin:"0px 12px"}},"Ascending (A-Z)"),o.createElement(h.Radio,{checked:"desc"===this.state.sort,onChange:this.sortChange,name:"sorting",value:"desc",style:{margin:"0px 12px"}},"Descending (Z-A)")),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{disabled:!this.state.field_config,checked:this.state.showDisplayValues,onChange:this.displayChange,style:{marginRight:"10px"}},"Use different field for display values"),o.createElement("div",{style:{display:"flex",width:"150px"}},o.createElement(h.DropdownSelect,{className:"dropdown-select",disabled:!this.state.showDisplayValues||!this.state.field_config,kind:"line",onChange:this.displayFieldChange,value:this.state.displayField,style:{flexGrow:1}},this.state.field_list.map(function(e){return o.createElement("option",{key:e},e)})))),o.createElement("div",{className:"option"},o.createElement("p",null,o.createElement("i",null,"For use with string parameters only:"))),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{disabled:"string"!==this.state.dataType,checked:this.state.useFormattedValues&&"string"===this.state.dataType,onChange:this.aliasChange,style:{flexGrow:1}},"Use aliased values")),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{disabled:"string"!==this.state.dataType,checked:this.state.includeAllValue&&"string"===this.state.dataType,onChange:this.allChange,style:{flexGrow:1}},'Include "(All)" in parameter list ',o.createElement("br",null)," ",o.createElement("i",null,"Note: This is only a placeholder for calculations."))),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{disabled:"string"!==this.state.dataType,checked:this.state.multiselect&&"string"===this.state.dataType,onChange:this.multiselectChange,style:{marginRight:"10px"}},"Allow for multiple selections."),o.createElement("span",{children:"Delimiter:",style:{marginRight:"5px"}}),o.createElement(h.TextField,{kind:"line",onChange:this.delimiterChange,className:"delimiter-text-field",value:this.state.delimiter,disabled:!this.state.multiselect||"string"!==this.state.dataType,maxLength:1,style:{width:20}})),o.createElement("div",{className:"option"},o.createElement(h.Checkbox,{disabled:!this.state.multiselect,checked:this.state.applyButton&&this.state.multiselect,onChange:this.applyChange,style:{flexGrow:1}},"Show apply button."))),o.createElement("div",{className:"content"},o.createElement("div",{className:"format"},o.createElement("div",{className:"formattext"},"Background Color"),o.createElement("div",null,o.createElement("input",{type:"color",value:this.state.bg,onChange:this.bgChange,style:{backgroundColor:this.state.bg}}))),o.createElement("div",{className:"format"},o.createElement("div",{className:"formattext"},"Text Color"),o.createElement("div",null,o.createElement("input",{type:"color",value:this.state.txt,onChange:this.txtChange,style:{backgroundColor:this.state.txt}}))))];return o.createElement(o.Fragment,null,o.createElement("div",{className:"container"},o.createElement("div",null,o.createElement("div",{className:"header"},"Data-Driven Parameter Configuration",o.createElement("div",{className:"tooltip"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Dialogs_x5F_Info",width:"15",height:"15",viewBox:"0 0 15 15"},o.createElement("rect",{id:"Line",x:"7",y:"6",width:"1",height:"5",fillRule:"evenodd",clipRule:"evenodd",fill:"#666766"}),o.createElement("rect",{id:"Dot_2_",x:"7",y:"4",width:"1",height:"1",fillRule:"evenodd",clipRule:"evenodd",fill:"#666766"}),o.createElement("path",{id:"Circle",d:"M7.5,1C3.9,1,1,3.9,1,7.5S3.9,14,7.5,14 S14,11.1,14,7.5S11.1,1,7.5,1z M7.5,13C4.5,13,2,10.5,2,7.5C2,4.5,4.5,2,7.5,2S13,4.5,13,7.5C13,10.5,10.5,13,7.5,13z",fillRule:"evenodd",clipRule:"evenodd",fill:"#666766"})),o.createElement("span",{className:"tooltiptext"},o.createElement("b",null,"How to Use"),o.createElement("ol",null,o.createElement("li",null,'Select a Tableau parameter to manipulate. This parameter must already exists and must allow "all" values.'),o.createElement("li",null,"Select a worksheet with the data you want to use in your parameter."),o.createElement("li",null,"Select a field to use to populate the parameter. Field data type must match the data type of parameter.")),o.createElement("br",null),o.createElement("p",null,"Note: Mac Desktop 2018.3 and lower, please use arrow keys and 'Enter' to select options")))),o.createElement("div",{className:"tabs"},o.createElement(h.Tabs,{activation:"automatic",alignment:"left",onTabChange:this.tabChange,selectedTabIndex:this.state.selectedTabIndex,tabs:[{content:"Configure"},{content:"Options"},{content:"Formatting"}]},e[this.state.selectedTabIndex]))),o.createElement("div",{className:"footer"},o.createElement("div",{className:"btncluster"},o.createElement(h.Button,{onClick:this.clearSettings,style:{marginRight:"auto"}},"Clear Settings"),o.createElement(h.Button,{kind:"filledGreen",onClick:this.submit,disabled:!this.state.configured||!this.state.ws_config,style:{marginLeft:"12px"}},"OK")))))}}]),t}(o.Component),w=(a(133),{value:"Parameter needs configuration",displayValue:"Parameter needs configuration"}),v={value:"Loading...",displayValue:"Loading..."};function x(e){var t=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{b:parseInt(t[3],16),g:parseInt(t[2],16),r:parseInt(t[1],16)}:null}(e);return t?"rgb(".concat(Math.min(Math.floor(t.r/2)+127,255),", ").concat(Math.min(Math.floor(t.g/2)+127,255),", ").concat(Math.min(Math.floor(t.b/2)+127,255),")"):"#ffffff"}var C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={applyButton:!1,bg:"#ffffff",configured:!1,currentVal:[v],disabled:!0,firstInit:!0,list:[v],multiselect:!1},a.configure=function(){var e="".concat(window.location.origin).concat("/extension-data-driven-parameters/2.0.0","/#/config");window.tableau.extensions.ui.displayDialogAsync(e,"",{height:525,width:450}).then(function(e){var t=window.tableau.extensions.settings.getAll();""!==e?(document.body.style.backgroundColor=t.bg,document.body.style.color=t.txt,a.setState({applyButton:"true"===t.applyButton||!1,bg:t.bg?x(t.bg):"#ffffff",multiselect:"true"===t.multiselect||!1}),a.findParameter()):a.setState({currentVal:[w],disabled:!0,list:[w]})}).catch(function(e){switch("true"!==window.tableau.extensions.settings.get("configured")&&a.setState({currentVal:[w],disabled:!0,list:[w]}),e.errorCode){case window.tableau.ErrorCodes.DialogClosedByUser:console.log("Dialog was closed by user.");break;default:console.error(e.message)}})},a.getParamData=function(){var e=window.tableau.extensions.dashboardContent.dashboard,t=window.tableau.extensions.settings.getAll(),n=e.worksheets.find(function(e){return e.name===t.selWorksheet});n?n.getSummaryDataAsync({ignoreSelection:"true"===t.ignoreSelection}).then(function(e){a.populateParam(e)}):a.setState({currentVal:[w],disabled:!0,list:[w]})},a.updateParam=function(e){var t,n=window.tableau.extensions.settings.getAll(),l=[],s=!0,i=!1,r=void 0;try{for(var o,u=e.target.options[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var d=o.value;d.selected&&l.push(d.value)}}catch(c){i=!0,r=c}finally{try{s||null==u.return||u.return()}finally{if(i)throw r}}t=l.join(n.delimiter),g?(a.setState({currentVal:l},function(){console.log(a.state.currentVal)}),n.applyButton&&"false"!==n.applyButton||g.changeValueAsync(t)):a.setState({currentVal:[w],disabled:!0,list:[w]}),n.updateOnChange&&"true"!==n.updateOnChange||a.state.multiselect||a.getParamData()},a.apply=function(){var e=window.tableau.extensions.settings.getAll();g.changeValueAsync(a.state.currentVal.join(e.delimiter))},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"findParameter",value:function(){var e=this,t=window.tableau.extensions.settings.getAll();window.tableau.extensions.dashboardContent.dashboard.findParameterAsync(t.selParam).then(function(t){(g=t)&&"all"===g.allowableValues.type?(e.getParamData(),e.setupWsEvent()):e.setState({currentVal:[w],disabled:!0,list:[w]})})}},{key:"populateParam",value:function(e){this.setState({currentVal:[v],disabled:!0,list:[v]});var t=window.tableau.extensions.settings.getAll(),a=e.columns.find(function(e){return e.fieldName===t.selField}),n=e.columns.find(function(e){return e.fieldName===t.displayField});if(a){var l,s=[],i=!0,r=!1,o=void 0;try{for(var u,d=e.data[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var c=u.value,h="true"===t.useFormattedValues?c[a.index].formattedValue:c[a.index].value,m=h;n&&"true"===t.showDisplayValues&&(m=c[n.index].formattedValue),s.push({displayValue:m,value:h})}}catch(S){r=!0,o=S}finally{try{i||null==d.return||d.return()}finally{if(r)throw o}}if(s=s.filter(function(e,t,a){return a.indexOf(a.find(function(t){return t.value===e.value}))===t}),!t.dataType||"int"!==t.dataType&&"float"!==t.dataType?t.sort&&"desc"===t.sort?s.sort(function(e,t){return e.value<t.value?1:-1}):s.sort(function(e,t){return e.value>t.value?1:-1}):(s=s.map(function(e){return{value:Number(e.value),displayValue:e.displayValue}}),t.sort&&"desc"===t.sort?s.sort(function(e,t){return t.value-e.value}):s.sort(function(e,t){return e.value-t.value}),"float"===t.dataType&&(s=s.map(function(e){return{value:e.value.toLocaleString(window.tableau.extensions.environment.locale),displayValue:e.displayValue}}))),"true"===t.includeAllValue&&s.unshift({value:"(All)",displayValue:"(All)"}),"false"===t.autoUpdate||"true"===t.autoUpdate&&!this.state.firstInit)if("true"===t.multiselect){var f=[],p=!0,y=!1,b=void 0;try{for(var x,C=function(){var e=x.value;s.find(function(t){return t.value.toString()===e||t.value===e})&&f.push(e)},E=g.currentValue.value.split(t.delimiter)[Symbol.iterator]();!(p=(x=E.next()).done);p=!0)C()}catch(S){y=!0,b=S}finally{try{p||null==E.return||E.return()}finally{if(y)throw b}}l=f.length>0?f:["true"===t.includeAllValue?s[1].value:s[0].value]}else l=s.find(function(e){return e.value.toString()===g.currentValue.value||e.value===g.currentValue.value})?[g.currentValue.value]:["true"===t.includeAllValue?s[1].value:s[0].value];else l=["true"===t.includeAllValue?s[1].value:s[0].value];g.changeValueAsync(t.multiselect?l.join(t.delimiter):l.toString()),this.setState({currentVal:l,disabled:!1,firstInit:!1,list:s})}else this.setState({currentVal:[w],disabled:!0,list:[w]})}},{key:"setupWsEvent",value:function(){var e=window.tableau.extensions.dashboardContent.dashboard,t=window.tableau.extensions.settings.getAll(),a=e.worksheets.find(function(e){return e.name===t.selWorksheet});a?(a.addEventListener(window.tableau.TableauEventType.FilterChanged,this.getParamData),a.addEventListener(window.tableau.TableauEventType.MarkSelectionChanged,this.getParamData)):this.setState({currentVal:[w],disabled:!0,list:[w]})}},{key:"componentWillMount",value:function(){var e=this;window.tableau.extensions.initializeAsync({configure:this.configure}).then(function(){var t=window.tableau.extensions.settings.getAll();"true"===t.configured?(document.body.style.backgroundColor=t.bg,document.body.style.color=t.txt,e.setState({applyButton:"true"===t.applyButton||!1,bg:t.bg?x(t.bg):"#ffffff",configured:!0,multiselect:"true"===t.multiselect||!1}),e.findParameter()):(e.setState({currentVal:[w],disabled:!0,list:[w]}),e.configure())})}},{key:"render",value:function(){var e=o.createElement("div",{style:{flexDirection:"column"}},o.createElement("select",{multiple:!0,id:"multi-select-parameter",className:"parameter",value:this.state.currentVal,onChange:this.updateParam,disabled:this.state.disabled,style:{backgroundColor:this.state.bg,color:"inherit"}},this.state.list.map(function(e){return o.createElement("option",{key:e.value||e.value,value:e.value},e.displayValue)})),o.createElement(h.Button,{kind:"filled",onClick:this.apply,style:{display:this.state.applyButton?"block":"none",marginTop:"6px",width:"60px",height:"20px",marginLeft:"auto"}},"Apply")),t=o.createElement("div",null,o.createElement(h.DropdownSelect,{id:"single-select-parameter",className:"singleParameter",disabled:this.state.disabled||this.state.multiselect,kind:"outline",onChange:this.updateParam,value:this.state.currentVal[0],style:{backgroundColor:this.state.bg,color:"inherit",fontSize:"11px"}},this.state.list.map(function(e){return o.createElement("option",{key:e.value,value:e.value},e.displayValue)})));return o.createElement(o.Fragment,null,this.state.multiselect?e:t)}}]),t}(o.Component),E=(a(134),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"icontainer"},o.createElement("div",{className:"box"},o.createElement("div",{className:"left"},o.createElement("h1",{className:"iheader"},"Data-Driven Parameters"),o.createElement("span",{className:"tagline"},"Automatically update your parameters based on your data!")),o.createElement("div",{className:"right"},o.createElement("h4",{className:"big"},"What is it?"),o.createElement("p",null,"This extension allows you to add a parameter to a Tableau dashboard whose domain is based on your data. Added a new product line? No longer do you need to manually edit the parameter to update it, with this extension your parameter values update automatically!"),o.createElement("h4",{className:"big"},"Using the Extension"),o.createElement("ol",null,o.createElement("li",null,"Create an open input (All) parameter with a data type matching the field you want to use to populate it."),o.createElement("li",null,"Drag in a new Extension object to your dashboard."),o.createElement("li",null,"Find the manifest (.trex) file you downloaded above."),o.createElement("li",null,"Select the parameter you created above for the extension to manipulate."),o.createElement("li",null,"Select the worksheet that holds the field you want to base your parameter on."),o.createElement("li",null,"Select the field you want to base your parameter on."),o.createElement("li",null,"Optional: Configure your text and background colors."),o.createElement("li",null,"Click 'OK'.")),o.createElement("p",null,o.createElement("b",null,"Note:")," You can add as many instances of this extension as you like!"),o.createElement("div",{className:"gh"},"Get this extension and more in the ",o.createElement("a",{href:"https://extensiongallery.tableau.com/"},"Extension Gallery"),".")))))}}]),t}(o.Component)),S=function(){return o.createElement(o.Fragment,null,o.createElement(d.a,{path:"/",exact:!0,component:E}),o.createElement(d.a,{path:"/parameter",component:C}),o.createElement(d.a,{path:"/config",component:b}))},k=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.createElement(c.a,null,o.createElement(S,null))}}]),t}(o.Component);u.render(o.createElement(k,null),document.getElementById("container"))},73:function(e,t,a){e.exports=a(139)}},[[73,1,2]]]);
//# sourceMappingURL=main.8c9ad036.chunk.js.map